%---------------------------------------------------%
% the actual rotations are perfomed here
% Simulation Mov 2
mov(w,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,G1,G2,G3,G4,R4,R5,R6,G8,G9,G10, %1
% ----------------********-------
W0,W9,W10,W1,W2,W3,W4,W5,W6,W7,W8, %2
%************************************
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,G5,G6,G7,Pr9,Pr10, %3
% ----------------------********---------
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,B5,B6,B7,R7,R8,R9,R10, %6
% ----------********---------
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Pr6,Pr7,Pr8,Y8,Y9,Y10, %10
% -------------************---------
B0,B1,B2,B3,B4,Y5,Y6,Y7,B8,B9,B10, %11
% -------------********---------
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
)).

% ----------------------------------------------------------------------------
% Simulation Mov 11
mov(b,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,R6,R7,R8,W9,W10, %2
% ---------------*********---------
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,Pi5,Pi6,Pi7,R9,R10, %6
% ----------------***********---------
L0,L1,L2,L3,Y3,Y4,Y5,L7,L8,L9,L10, %7
% ----------********-------------
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,W6,W7,W8,Y6,Y7,Y8,Y9,Y10, %10
% -------********-------
B0,B9,B10,B1,B2,B3,B4,B5,B6,B7,B8, %11
%*************************************
Pi0,Pi1,Pi2,Pi3,Pi4,L4,L5,L6,Pi8,Pi9,Pi10 %12
% ------------------*********----------
)).

% ----------------------------------------------------------------------------
% Simulation Mov 6
mov(r,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,G1,G2,G3,G4,G5,G6,H6,H7,H8,G10, %1
% -------------------********---------
W0,W1,W2,W3,W4,W5,W6,W7,G7,G8,G9, %2
% ----------------------********
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,Pi3,Pi4,Pi5,H9,H10, %5
% ----------------************-------
R0,R9,R10,R1,R2,R3,R4,R5,R6,R7,R8, %6
%************************************
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,W8,W9,W10,B6,B7,B8,B9,B10, %11
% -------**********----------------
Pi0,Pi1,Pi2,B3,B4,B5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
% ----------*********---------
)).

% ---------------------------------------------------------------------------
% Simulation Mov 1
mov(g,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,Pr9,Pr10,W3,W4,W5,W6,W7,W8,W9,Pr8, %2
% -********----------------------****
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,T6,T7,T8, %3
% ------------------------------********
T0,T1,T2,T3,T4,T5,H4,H5,H6,T9,T10, %4
% ----------------********--------
H0,H1,H2,H3,R2,R3,R4,H7,H8,H9,H10, %5
% ----------********---------
R0,R1,W10,W1,W2,R5,R6,R7,R8,R9,R10, %6
% ----*********---------
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr9,Gr10,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8, %8
%***********************************************
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
)).




%Simulation Mov 3
mov(pr,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,G1,G2,W2,W3,W4,G6,G7,G8,G9,G10, %1
%--------********--------------------
W0,W1,Y7,Y8,Y9,W5,W6,W7,W8,W9,W10, %2
%-----********-----------------------
Pr0,Pr9,Pr10,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8, %3
%***********************************************
T0,T1,T2,T3,G3,G4,G5,T7,T8,T9,T10, %4
%-----------********-----------------
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,T4,T5,T6,O10, %9
%--------------------********--------
Y0,Y1,Y2,Y3,Y4,Y5,Y6,O7,O8,O9,Y10, %10
%--------------------********---------
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
)).


%Simulation Mov 4
mov(t,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,Pr10,Pr1,Pr2,G4,G5,G6,G7,G8,G9,G10, %1
%--************--------------------------
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,O10,O1,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,O9, %3
%---*******----------------------------***-
T0,T9,T10,T1,T2,T3,T4,T5,T6,T7,T8, %4
%************************************
H0,H1,G1,G2,G3,H5,H6,H7,H8,H9,H10, %5
%-----********-----------------------
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,H4,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,H2,H3, %8
%---***----------------------------******----
O0,Gr1,O2,O3,O4,O5,O6,O7,O8,Gr9,Gr10, %9
%--***----------------------********------
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
)).








%Simulation Mov 5
mov(h,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,T10,G2,G3,G4,G5,G6,G7,G8,T8,T9, %1
%--*-------------------------*****---
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,Gr1,Gr2,Gr3, %4
%-----------------------***********----
H0,H9,H10,H1,H2,H3,H4,H5,H6,H7,H8, %5
%************************************
R0,G10,G1,R3,R4,R5,R6,R7,R8,R9,G9, %6
%--******----------------------**----
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Pi1,Pi2,Pi3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
%---************--------------------------------
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,R10,R1,R2,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
%--***********--------------------------------
)).




%Simulation Mov 7
mov(l,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L9,L10,L1,L2,L3,L4,L5,L6,L7,L8, %7
%************************************
Gr0,Gr1,Gr2,Gr3,Gr4,O3,O4,O5,Gr8,Gr9,Gr10, %8
%-------------------********-----------------
O0,O1,O2,Y1,Y2,Y3,O6,O7,O8,O9,O10, %9
%--------********--------------------
Y0,B9,B10,B1,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
%-----******---------------------------
B0,Pi9,B2,B3,B4,B5,B6,B7,B8,Pi7,Pi8, %11
%--***----------------------********----
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Gr5,Gr6,Gr7,Pi10 %12
%---------------------------***********---------
)).




%Simulation Mov 8
mov(gr,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,O2,O3,T3,T4,T5,T6,T7,T8,T9,O1, %4
%---*****---------------------**-----
H0,T1,T2,H3,H4,H5,H6,H7,H8,H9,T10, %5
%---*****---------------------***-----
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,Pi10,Pi1,L3,L4,L5,L6,L7,L8,L9,Pi9, %7
%--********----------------------****---
Gr0,Gr9,Gr10,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8, %8
%***********************************************
O0,L10,L1,L2,O4,O5,O6,O7,O8,O9,O10, %9
%--*********--------------------------
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,H2,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,H10,H1 %12
%---**-----------------------------******----
)).


%Simulation Mov 9
mov(o,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Y9,Y10,Y1,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
%-------*********-----------------------------
T0,T1,Pr2,Pr3,Pr4,T5,T6,T7,T8,T9,T10, %4
%-----************----------------------
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,Gr7,Gr8,Gr9, %7
%-----------------------************
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,T2,T3,T4,Gr10, %8
%---------------------------********---------
O0,O9,O10,O1,O2,O3,O4,O5,O6,O7,O8, %9
%************************************
Y0,L10,Y2,Y3,Y4,Y5,Y6,Y7,Y8,L8,L9, %10
%--***----------------------******----
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
)).


%Simulation Mov 10
mov(y,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,B7,B8,B9,W7,W8,W9,W10, %2
%-----------*********----------------
Pr0,Pr1,Pr2,Pr3,W4,W5,W6,Pr7,Pr8,Pr9,Pr10, %3
%---------------*********--------------------
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,O5,O6,O7,L9,L10, %7
%-----------------********-----------
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,Pr4,Pr5,Pr6,O8,O9,O10, %9
%--------------************-------------
Y0,Y9,Y10,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8, %10
%*************************************
B0,B1,B2,B3,B4,B5,B6,L6,L7,L8,B10, %11
%--------------------********---------
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
)).



%Simulation Mov 12
mov(pi,
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,H8,H9,H10, %5
R0,R1,R2,R3,R4,R5,R6,R7,R8,R9,R10, %6
L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10, %7
Gr0,Gr1,Gr2,Gr3,Gr4,Gr5,Gr6,Gr7,Gr8,Gr9,Gr10, %8
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,B1,B2,B3,B4,B5,B6,B7,B8,B9,B10, %11
Pi0,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8,Pi9,Pi10 %12
),
megaminx(
G0,G1,G2,G3,G4,G5,G6,G7,G8,G9,G10, %1
W0,W1,W2,W3,W4,W5,W6,W7,W8,W9,W10, %2
Pr0,Pr1,Pr2,Pr3,Pr4,Pr5,Pr6,Pr7,Pr8,Pr9,Pr10, %3
T0,T1,T2,T3,T4,T5,T6,T7,T8,T9,T10, %4
H0,H1,H2,H3,H4,H5,H6,H7,Gr3,Gr4,Gr5, %5
%-----------------------***********----
R0,R1,R2,R3,R4,R5,R6,R7,H8,H9,H10, %6
%-----------------------*********----
L0,L1,B1,B2,B3,L5,L6,L7,L8,L9,L10, %7
%-----********-----------------------
Gr0,Gr1,Gr2,L2,L3,L4,Gr6,Gr7,Gr8,Gr9,Gr10, %8
%-----------*********------------------------
O0,O1,O2,O3,O4,O5,O6,O7,O8,O9,O10, %9
Y0,Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10, %10
B0,R8,R9,R10,B4,B5,B6,B7,B8,B9,B10, %11
%--**********--------------------------
Pi0,Pi9,Pi10,Pi1,Pi2,Pi3,Pi4,Pi5,Pi6,Pi7,Pi8 %12
%***********************************************
)).

% --------------------------------------------------------------
% some special "moves" that are mapped to longer move sequences
% --------------------------------------------------------------

% step 3 Third layer edges and corners
% Left
% red = front face - left
mov(sp1,X,Y) :-
  move_sequence([-r, -b, -r, -r, +b, +r], X, Y).
% Right
% red = front face - left
mov(sp2,X,Y) :-
  move_sequence([+r, +g, +r, +r, -g, -r], X, Y).


% step 5 Top star
% red = front face - left
% TODO %%%%%%%%%%%%%%%%%%%%%%%

% --------------------------------------------------------------
% these helpers call the actual rotations
% --------------------------------------------------------------
% clockwise move
move(+Move, OldState, NewState) :-
  mov(Move, OldState, NewState).
% counterclockwise move
move(-Move, OldState, NewState) :-
  mov(Move, NewState, OldState).
% empty move list
move_sequence([],X,X).
% longer sequence
move_sequence([Move|Othermoves], X, Z) :-
  move(Move,X,Y),
  move_sequence(Othermoves,Y,Z).
% ----------------------------------------------------------------------
% strategy: solve the cube in stages
% stages 1-4: put the upper slice edge pieces (two-colored) in place
% stages 5-8: put the upper slice corner pieces (three-colored) in place
% stage 9: turn the cube so that the 'F' face center and the upper
% slice 'F' face pieces are on the same (front) face
% stages 10-20: put the middle slice corner pieces (two-colored) in place
% stages 21-24: form a one-color "cross" on the 'D' face with bottom slice
% (two-colored) edge pieces
% stages 25-27: put the bottom slice edge pieces (two-colored) in place
% stage 28: put the bottom slice corner pieces in place
%
%
% here are the cube goal states for each stage
% ----------------------------------------------------------------------

% checked on 3rd Jan 2021
get_goal(1, megaminx(
% 0 ,1   ,2   ,3   ,4   ,5   ,6   ,7   ,8   ,9   ,10  ,
"G" ,_   ,_   ,_   ,_   ,_   ,"G" ,_   ,_   ,_   ,_   , %1 %Backside1
"W" ,"W" ,_   ,"W" ,_   ,"W" ,_   ,"W" ,_   ,"W" ,_   , %2
"Pr",_   ,_   ,_   ,_   ,_   ,_   ,"Pr",_   ,_   ,_   , %3 %Backside1
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %4
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %5
"R" ,_   ,_   ,_   ,_   ,"R" ,_   ,_   ,_   ,_   ,_   , %6
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %7
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %8
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %9
"Y" ,_   ,_   ,_   ,_   ,_   ,"Y" ,_   ,_   ,_   ,_   , %10
"B" ,_   ,_   ,_   ,_   ,_   ,"B" ,_   ,_   ,_   ,_   , %11
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ) %12
).

get_goal(2,megaminx(
% 0 ,1   ,2   ,3   ,4   ,5   ,6   ,7   ,8   ,9   ,10  ,
"G" ,_   ,_   ,_   ,_   ,"G" ,"G" ,"G" ,_   ,_   ,_   , %1 %Backside1
"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" , %2
"Pr",_   ,_   ,_   ,_   ,_   ,"Pr","Pr","Pr",_   ,_   , %3 %Backside1
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %4
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %5
"R" ,_   ,_   ,_   ,"R" ,"R" ,"R" ,_   ,_   ,_   ,_   , %6
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %7
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %8
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %9
"Y" ,_   ,_   ,_   ,_   ,"Y" ,"Y" ,"Y" ,_   ,_   ,_   , %10
"B" ,_   ,_   ,_   ,_   ,"B" ,"B" ,"B" ,_   ,_   ,_   , %11
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ) %12
).

get_goal(3,megaminx(
% 0 ,1   ,2   ,3   ,4   ,5   ,6   ,7   ,8   ,9   ,10  ,
"G" ,_   ,_   ,_   ,"G" ,"G" ,"G" ,"G" ,"G" ,_   ,_   , %1 %Backside1
"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" , %2
"Pr",_   ,_   ,_   ,_   ,"Pr","Pr","Pr","Pr","Pr",_   , %3 %Backside1
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %4
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %5
"R" ,_   ,_   ,"R" ,"R" ,"R" ,"R" ,"R" ,_   ,_   ,_   , %6
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %7
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %8
"O" ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %9
"Y" ,_   ,_   ,_   ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,_   ,_   , %10
"B" ,_   ,_   ,_   ,"B" ,"B" ,"B" ,"B" ,"B" ,_   ,_   , %11
_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ) %12
).

get_goal(4,megaminx(
% 0 ,1   ,2   ,3   ,4   ,5   ,6   ,7   ,8   ,9   ,10  ,
"G" ,_   ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" , %1 %Backside1
"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" , %2
"Pr","Pr",_   ,"Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr", %3 %Backside1
"T" ,_   ,_   ,_   ,_   ,"T" ,"T" ,"T" ,_   ,_   ,_   , %4
"H" ,_   ,_   ,_   ,_   ,"H" ,"H" ,"H" ,_   ,_   ,_   , %5
"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,_   ,  %6
"L" ,_   ,_   ,_   ,_   ,"L" ,"L" ,"L" ,_   ,_   ,_   , %7
"Gr",_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %8
"O" ,_   ,_   ,_   ,_   ,_   ,"O" ,"O" ,"O" ,_   ,_   , %9
"Y" ,_   ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" , %10
"B" ,_   ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" , %11
"Pi",_   ,_   ,_   ,"Pi","Pi","Pi",_   ,_   ,_   ,_   ) %12
).


get_goal(5,megaminx(
% 0 ,1   ,2   ,3   ,4   ,5   ,6   ,7   ,8   ,9   ,10  ,
"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" , %1
"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" , %2
"Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr", %3
"T" ,_   ,_   ,_   ,"T" ,"T" ,"T" ,"T" ,"T" ,_   ,_   , %4 %Backside2
"H" ,_   ,_   ,_   ,"H" ,"H" ,"H" ,"H" ,"H" ,_   ,_   , %5
"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,  %6
"L" ,_   ,_   ,_   ,"L" ,"L" ,"L" ,"L" ,"L" ,_   ,_   , %7
"Gr",_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %8
"O" ,_   ,_   ,_   ,_   ,"O" ,"O" ,"O" ,"O" ,"O" ,_   , %9 %Backside2
"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" , %10
"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" , %11
"Pi",_   ,_   ,"Pi","Pi","Pi","Pi","Pi",_   ,_   ,_   ) %12
).

get_goal(6,megaminx(
% 0 ,1   ,2   ,3   ,4   ,5   ,6   ,7   ,8   ,9   ,10  ,
"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" , %1
"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" , %2
"Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr", %3
"T" ,_   ,_   ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,_   , %4 %Backside2
"H" ,_   ,_   ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,_   , %5
"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,  %6
"L" ,_   ,_   ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,_   , %7
"Gr",_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   ,_   , %8
"O" ,_   ,_   ,_   ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" , %9 %Backside2
"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" , %10
"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" , %11
"Pi",_   ,"Pi","Pi","Pi","Pi","Pi","Pi","Pi",_   ,_   ) %12
).

get_goal(7,megaminx(
% 0 ,1   ,2   ,3   ,4   ,5   ,6   ,7   ,8   ,9   ,10  ,
"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" , %1
"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" , %2
"Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr", %3
"T" ,_   ,_   ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,_   , %4 %Backside2
"H" ,_   ,_   ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,_   , %5
"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,  %6
"L" ,_   ,_   ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,_   , %7
"Gr",_   ,"Gr",_   ,"Gr",_   ,"Gr",_   ,"Gr",_   ,"Gr", %8
"O" ,_   ,_   ,_   ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" , %9 %Backside2
"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" , %10
"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" , %11
"Pi",_   ,"Pi","Pi","Pi","Pi","Pi","Pi","Pi",_   ,_   ) %12
).

get_goal(8,megaminx(
% 0 ,1   ,2   ,3   ,4   ,5   ,6   ,7   ,8   ,9   ,10  ,
"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" , %1
"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" , %2
"Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr", %3
"T" ,"T" ,_   ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,_   , %4 %Backside2
"H" ,"H" ,_   ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,_   , %5
"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,  %6
"L" ,"L" ,_   ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,_   , %7
"Gr",_   ,"Gr",_   ,"Gr",_   ,"Gr",_   ,"Gr",_   ,"Gr", %8
"O" ,_   ,"O" ,_   ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" , %9 %Backside2
"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" , %10
"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" , %11
"Pi",_   ,"Pi","Pi","Pi","Pi","Pi","Pi","Pi",_   ,"Pi") %12
).

get_goal(9,megaminx(
% 0 ,1   ,2   ,3   ,4   ,5   ,6   ,7   ,8   ,9   ,10  ,
"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" , %1
"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" , %2
"Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr", %3
"T" ,"T" ,_   ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,_   , %4 %Backside2
"H" ,"H" ,_   ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,_   , %5
"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,  %6
"L" ,"L" ,_   ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,_   , %7
"Gr","Gr","Gr","Gr","Gr","Gr","Gr","Gr","Gr","Gr","Gr", %8
"O" ,_   ,"O" ,_   ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" , %9 %Backside2
"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" , %10
"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" , %11
"Pi",_   ,"Pi","Pi","Pi","Pi","Pi","Pi","Pi",_   ,"Pi") %12
).

get_goal(10,megaminx(
% 0 ,1   ,2   ,3   ,4   ,5   ,6   ,7   ,8   ,9   ,10  ,
"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" ,"G" , %1
"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" ,"W" , %2
"Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr","Pr", %3
"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" ,"T" , %4 %Backside2
"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" ,"H" , %5
"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,"R" ,  %6
"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" ,"L" , %7
"Gr","Gr","Gr","Gr","Gr","Gr","Gr","Gr","Gr","Gr","Gr", %8
"O" ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" ,"O" , %9 %Backside2
"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" ,"Y" , %10
"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" ,"B" , %11
"Pi","Pi","Pi","Pi","Pi","Pi","Pi","Pi","Pi","Pi","Pi") %12
).

% --------------------------------------------------------------
% the search space is narrowed by listing all allowed rotations
% for each stage separately
% --------------------------------------------------------------
and(1, [g, w, pr, t, h, r, pi, l, gr, o, y, b]).
and(2, [g, w, pr, t, h, r, pi, l, gr, o, y, b]).
and(3, [g, w, pr, t, h, r, pi, l, gr, o, y, b]).
and(4, [g, w, pr, t, h, r, pi, l, gr, o, y, b]).
and(5, [g, w, pr, t, h, r, pi, l, gr, o, y, b]).
and(6, [g, w, pr, t, h, r, pi, l, gr, o, y, b]).
and(7, [g, w, pr, t, h, r, pi, l, gr, o, y, b]).
and(8, [g, w, pr, t, h, r, pi, l, gr, o, y, b]).
and(9, [g, w, pr, t, h, r, pi, l, gr, o, y, b]).
and(10, [g, w, pr, t, h, r, pi, l, gr, o, y, b]).


% catch a candidate move from the list for each stage
get_candidate(Stage, Move) :-
  and(Stage, Movelist),
  nth1(_,Movelist,Move).
% --------------------------------------------------------------
% these helpers reject some unwise move candidates
% check whether the proposed move should be tried or not
% --------------------------------------------------------------
% first, if this move is negation of previous move, we reject it
conflict([+Previous|_], -This) :- This=Previous.
conflict([-Previous|_], +This) :- This=Previous.
% also, maximum moves in the direction is 2 (cw) or 1 (ccw)
% (other can be reached with rotation to the other direction)
conflict([-Previous|_], -This) :- This=Previous.
conflict([+Previous|_],+This) :- This=Previous.
% ---------------------------------------------------------------
% rotate performs the BFS search from given cube state to get the
% the solution (a move list) for the defined stage.
% New moves are proposed by get_move (cw and ccw directions).
% ---------------------------------------------------------------
% the list is empty, does not change the cube
rotate(_,[],State,State).
% Moves collects the answer move list (in REVERSE order).
% State is the current state of the cube
% Criteria contains the list of the pieces to be positioned in this stage
rotate(Stage, Moves, State, Stagegoal) :-
  rotate(Stage, Priormoves, State, Nextstate),
  get_move(Stage, Nextmove, Nextstate, Stagegoal),
  not(conflict(Priormoves,Nextmove)),
  append([Nextmove], Priormoves, Moves).
get_move(Stage, +Move, State, Stagegoal) :-
  get_candidate(Stage, Move),
  mov(Move, State, Stagegoal).
get_move(Stage, -Move, State, Stagegoal) :-
  get_candidate(Stage, Move),
  mov(Move, Stagegoal, State).
% --------------------------------------------------------------
% Here are the topmost predicates that collect the answer
% --------------------------------------------------------------
% updates the stage
get_stage(Stage, Newstage) :-
  Newstage is Stage + 1.

% the cube should be finished after stage 28, so we stop here.
stage([],11,_).
% this builds the result move list by moving from stage to stage
% and joining the solutions gathered for each stage
stage(Movelist,Currentstage,Cubestate) :-
  get_goal(Currentstage,Targetstate),
  write("Stage = "),
  write(Currentstage),
  nl,
  rotate(Currentstage,Stagemoves,Cubestate,Targetstate),
  reverse(Stagemoves,Newmoves),
  move_sequence(Newmoves,Cubestate,Newstate),
  get_stage(Currentstage,Newstage),
  stage(Newlist,Newstage,Newstate),
  append(Newmoves,Newlist,Movelist).
% a little UI helper
solve(Movelist,Cube_state) :-
  stage(Movelist, 1, Cube_state).